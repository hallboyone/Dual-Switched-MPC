\section{Introduction}
Hybrid systems are a broad and important class of systems with both discrete and continuous (or discrete approximations of continuous) dynamics. A subclass of hybrid systems are those whose discrete dynamics are purely time dependent and unknown to the system. For example, user input and component failures can both be modeled as a change in a discrete variable that is independent of the continuous state and unforeseeable before hand. Such externally-triggered events can be viewed as an external switching signals that change the system's dynamics at unforeseen times. 

% Lit review - Centralized Switched
If an externally switched system is constrained, then the system must be robust to these switches while respecting the state and input constraints. If the switches could occur at arbitrary times, then the state must remain within a control invariant (CI) set common to all modes to maintain feasibility \cite{Liberzon1999, Blanchini1999}. If the modes are not extremely similar, this may be a difficult or impossible requirement meet. 

Instead of arbitrary switching, various constraints on the switching signal have been suggested in previous literature \cite{Liberzon1999,Morse1999}. Graph based constraints use directed graphs to constrain how a switching signal may evolve at each time step \cite{Santis2004, Athanasopoulos2014, Athanasopoulos2017, Fiacchini2018}. Dwell time constraints restrict how long the system must dwell between switches. Minimum dwell times give the system time to recover after a switch and prepare for the next one \cite{Danielson2019,Lavaei2021}, while maximum dwell times ensure that the system will not dwell in ``poorly'' behaved modes for too long \cite{Hall2022}. These constraints can either be generated by the physical implementation and the controller designed to accommodate them \cite{Danielson2019}, or they can be specified by the controller and enforced in the physical implementation \cite{Zhang2016}. 

When a switching signal is constrained with either dwell time or graph based constraints, time-varying CI sets can replace time-invariant versions. \cite{Danielson2019, Athanasopoulos2017}. This reduces conservatism and persistent feasibility can be assured even when the system contains ``incompatible'' modes. Unfortunately, these methods can be very computationally expensive and suffer greatly from the curse of dimensionality, precluding their use in large-scale systems. To address this, approximate set-based methods have been used to reduce the computational complexity \cite{Santis2004,Athanasopoulos2017}. No previous solution, however, utilized the structure of the system to reduce the computational load of ensuring persistent feasibility. 

% Lit review - Multiple switching signals
A further shortcoming of the current literature is that only a single switching signal is explicitly considered \cite{Danielson2019,Athanasopoulos2017,Zhang2016, Santis2004}. A naive solution would simply be to define a new switching signal with modes corresponding to all the realizable permutations of the independent signals. While this works in theory, it creates an exponential growth in the number of possible system modes. Enumerating multiple switching signals and defining the dwell time and successor constraints of each mode quickly leads back to arbitrary switching and its associated challenges. Even when feasible, the increase in the computational load is difficult to overcome. 

A better solution for a system with multiple switching signals is to divide it into discrete parts and examine each separately. Variations of this goal have already been addressed. Systems with a similar structure where studied in \cite{Riverso2015}, which examined both the constrained and unconstrained cases without any external switching, instead focusing on plug-and-play design objectives. Other works examined time-varying state constraints for decentralized systems where shifting communication topologies introduce external switching in \cite{Ahandani2020, Li2020}. In \cite{Li2020}, individual agents collaborated by sharing a preview of their future trajectories, inspiring some of the strategies here. However, unlike \cite{Ahandani2020, Li2020}, we consider changing local dynamics, and allow additional state constraints compared to \cite{Li2020}.

This work develops an algorithm to find time-varying state constraints that ensure persistent feasibility for systems with multiple sources of switching. The algorithm's most computationally expensive steps are parallelizable, greatly improving its scalability. 

The next section introduces key notation and concepts. Next, the general form of the system is described and the associated challenges are discussed further. Finally, several algorithms are introduced as key contributions, and their theoretical properties and implementation are explored. These are then applied to a numerical example that demonstrates their effectiveness. 