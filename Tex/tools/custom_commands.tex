\newtheorem{theorem}{\textbf{Theorem}}
\newtheorem{lemma}{\textbf{Lemma}}
\newtheorem{corollary}{\textbf{Corollary}}
\newtheorem{definition}{Definition}
\newtheorem{assumption}{Assumption}
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem{case}{Case}
\newtheorem{problem}{Problem}

\newcommand{\alert}[1]{\textbf{\color{red}{\MakeUppercase{#1}}\color{black}}}

\renewcommand{\theoremautorefname}{Theorem}
\renewcommand{\algorithmautorefname}{Algorithm}
\newcommand{\definitionautorefname}{Def.}
\newcommand{\lemmaautorefname}{Lemma}
\newcommand{\assumptionautorefname}{Assumption}

% For do-while algorithm loops (https://tex.stackexchange.com/questions/115709/do-while-loop-in-pseudo-code)
\algdef{SE}[DOWHILE]{Do}{doWhile}{\algorithmicdo}[1]{\algorithmicwhile\ #1}%
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
% declaration of the new block
\algblock{ParFor}{EndParFor}
% customising the new block
\algnewcommand\algorithmicparfor{\textbf{parfor}}
\algnewcommand\algorithmicpardo{\textbf{do}}
\algnewcommand\algorithmicendparfor{\textbf{end\ parfor}}
\algrenewtext{ParFor}[1]{\algorithmicparfor\ #1\ \algorithmicpardo}
\algrenewtext{EndParFor}{\algorithmicendparfor}


%\NewDocumentCommand{\edit}{m m}{#2}
\NewDocumentCommand{\edit}{m m}{{\color{red}#1 }{\color{blue}#2}}

\newlength{\myl}
\let\origequation=\equation
\let\origendequation=\endequation
\RenewEnviron{equation}{
  \settowidth{\myl}{$\BODY$}                       % calculate width and save as \myl
  \origequation
  \ifdimcomp{\the\linewidth}{>}{\the\myl}
  {\ensuremath{\BODY}}                             % True
  {\resizebox{\linewidth}{!}{\ensuremath{\BODY}}}  % False
  \origendequation
}